# 更新日志

## [v1.3.0] - 2025-01-19

### ✨ 新功能
- **回收站功能**: 完整的回收站系统，支持文件恢复和永久删除
  - 文件删除时自动移至回收站
  - 支持单个文件恢复和永久删除
  - 支持一键清空回收站
  - 显示删除时间和过期时间
- **文件搜索功能**: 强大的文件搜索系统
  - 支持按文件名搜索
  - 支持按文件类型筛选
  - 实时搜索结果显示
- **存储空间统计**: 实时显示存储使用情况
  - 显示已用空间和总空间
  - 可视化进度条显示
  - 使用百分比统计

### 🔧 修复
- **界面刷新**: 修复文件删除后界面不自动刷新的问题
- **错误处理**: 改进404错误处理，自动同步界面状态
- **数据一致性**: 确保前端显示与后端数据库状态一致

### ⚡ 优化
- **用户体验**: 所有危险操作都有确认提示
- **响应式设计**: 优化移动端和桌面端显示效果
- **错误提示**: 更友好的错误信息和操作反馈

### 📦 部署
- Docker 镜像: `huanhq99/h-cloud:v1.3.0`
- 支持架构: AMD64
- 数据库: SQLite (CGO 支持)

## [v1.2.2] - 2025-01-18

### 🔧 修复
- **文件路径验证**: 修复文件上传和重命名时路径验证过于严格的问题
- **存储路径配置**: 修改存储路径配置，解决文件系统只读问题
- **文件操作**: 完善文件上传、重命名功能，支持子目录操作

### ⚡ 优化
- **路径安全检查**: 优化路径验证逻辑，在保证安全的前提下允许正常目录操作
- **存储管理**: 改进本地存储目录管理

### 📦 部署
- Docker 镜像: `huanhq99/h-cloud:v1.2.2`
- 支持架构: AMD64
- 数据库: SQLite (CGO 支持)

## [v0.0.1] - 2025-01-18

### 🔧 修复
- **Docker 架构兼容性**: 修复 `exec format error` 问题，确保 AMD64 架构兼容性
- **SQLite CGO 支持**: 启用 CGO 支持，修复 SQLite 数据库初始化失败问题
- **Docker Compose**: 移除过时的 `version` 字段警告

### ⚡ 优化
- **Dockerfile**: 优化构建流程，添加必要的编译和运行时依赖
- **版本管理**: 引入语义化版本控制，使用版本标签确保部署一致性

### 📦 部署
- Docker 镜像: `huanhq99/h-cloud:v0.0.1`
- 支持架构: AMD64
- 数据库: SQLite (CGO 支持)

---

## 版本说明

从 v0.0.1 开始，项目采用语义化版本控制：
- **主版本号**: 不兼容的 API 修改
- **次版本号**: 向下兼容的功能性新增
- **修订号**: 向下兼容的问题修正

每个版本都会同时推送到 GitHub 和 Docker Hub，确保代码和镜像的一致性。